(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{370:function(e,t,a){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,c=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,i=l&&l(Object);e.exports=function e(t,a,u){if("string"!==typeof a){if(i){var p=l(a);p&&p!==i&&e(t,p,u)}var d=c(a);s&&(d=d.concat(s(a)));for(var f=0;f<d.length;++f){var y=d[f];if(!n[y]&&!r[y]&&(!u||!u[y])){var _=m(a,y);try{o(t,y,_)}catch(v){}}}return t}return t}},575:function(e,t,a){e.exports={container:"style_container__3FZwK",articleInfo:"style_articleInfo__1d5v-",articleCategory:"style_articleCategory__35I8s",articleLabel:"style_articleLabel__26rCk",articleBody:"style_articleBody__2JILV",issueCommentsContainer:"style_issueCommentsContainer__3eK_x",issueComment:"style_issueComment__2oN0w",commentorAvatar:"style_commentorAvatar__BkYRh",issueCommentHeader:"style_issueCommentHeader__1lxXR",issueCommentContent:"style_issueCommentContent__2bwiX",createCommentContainer:"style_createCommentContainer__mllTZ",createComment:"style_createComment__3rcPo",createCommentAvatar:"style_createCommentAvatar__1v_t3",createCommentHeader:"style_createCommentHeader__3opNa",commentSwitch:"style_commentSwitch__2d5YM",active:"style_active__6_-G8",commentorLogin:"style_commentorLogin__2fsAa",createCommentInputContainer:"style_createCommentInputContainer__2VtH6",createCommentTextarea:"style_createCommentTextarea__mjrW_",createCommentOperator:"style_createCommentOperator__2pW3w"}},577:function(e,t,a){e.exports=a.p+"static/media/github.c9e82c1f.svg"},579:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(1),c=a.n(o),s=a(370),m=a.n(s),l=a(89),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var u=function(e){var t=function(t){var a=t.wrappedComponentRef,n=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["wrappedComponentRef"]);return r.a.createElement(l.a,{children:function(t){return r.a.createElement(e,i({},n,t,{ref:a}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:c.a.func},m()(t,e)};t.a=u},580:function(e,t,a){"use strict";a.r(t);var n=a(363),r=a(364),o=a(366),c=a(365),s=a(367),m=a(0),l=a.n(m),i=a(88),u=a(579),p=a(368),d=a(369),f=a.n(d),y=a(371),_=a.n(y),v=a(87),C=a(15),h=a(575),b=a.n(h),g=a(577),E=a.n(g),N=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),m=0;m<r;m++)s[m]=arguments[m];return(a=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).handleInput=function(e){e.preventDefault();var t=e.currentTarget;t.style.height="auto",t.style.height=t.scrollTop+t.scrollHeight+"px"},a.handleSubmitComment=function(e){e.preventDefault();var t=a.comment.value;if(t){var n=a.props,r=n.dispatch,o=n.currentIssue;r.user.addComment({id:o.id,content:t,callback:function(){a.comment.value=""}})}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.match.params.number;t.user.getAuthToken(),t.repository.getSingleIssue(a)}},{key:"componentWillUnmount",value:function(){this.props.dispatch.repository.closeCurrentIssue()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.labelsMap,r=t.commentsMap,o=t.currentIssue,c=t.milestonesMap,s=t.viewer,m=t.isUserLoading;return l.a.createElement(v.a,{loading:a},l.a.createElement("div",{className:b.a.container},l.a.createElement("header",null,l.a.createElement("h1",null,o.title),l.a.createElement("p",{className:b.a.articleInfo},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-calendar","aria-hidden":"true"}),_()(o.createdAt).format("YYYY-MM-DD")),l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-th-list","aria-hidden":"true"}),l.a.createElement("span",{className:b.a.articleCategory},o.milestone&&c[o.milestone].title)),l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-tags","aria-hidden":"true"}),o.labels&&o.labels.nodes.map(function(e){var t=n[e];return l.a.createElement("span",{key:t.id,className:b.a.articleLabel,style:{background:"#".concat(t.color)}},t.name)})))),l.a.createElement("main",null,l.a.createElement("article",{className:f()(b.a.articleBody,"markdown-body"),dangerouslySetInnerHTML:{__html:o.bodyHTML}}),l.a.createElement("div",{className:b.a.issueCommentsContainer},o.comments&&o.comments.nodes.map(function(e){var t=r[e];if(t){var a=t.author;return l.a.createElement("section",{key:t.id,className:b.a.issueComment},l.a.createElement("a",{className:b.a.commentorAvatar,href:a.url},l.a.createElement("img",{src:a.avatarUrl,alt:"This is commentor's avatar"})),l.a.createElement("p",{className:b.a.issueCommentHeader},l.a.createElement("a",{href:a.url},l.a.createElement("em",null,a.login)),l.a.createElement("span",null,_()(t.createdAt).format("YYYY-MM-DD HH:mm:ss"))),l.a.createElement("article",{className:f()(b.a.issueCommentContent,"markdown-body"),dangerouslySetInnerHTML:{__html:t.bodyHTML}}))}return null}),l.a.createElement("section",{className:b.a.createCommentContainer},l.a.createElement("div",{className:b.a.createComment},s.id?l.a.createElement("div",{className:b.a.createCommentAvatar},l.a.createElement("img",{src:s.avatarUrl,alt:"This is commentor's avatar"})):l.a.createElement("a",{className:b.a.createCommentAvatar,href:Object(C.d)()},m?l.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-3x fa-fw"}):l.a.createElement("img",{src:E.a,alt:"This is commentor's avatar"})),l.a.createElement("div",{className:b.a.createCommentHeader},l.a.createElement("span",{className:f()(b.a.commentSwitch,b.a.active)},"\u7f16\u8f91"),l.a.createElement("span",{className:b.a.commentSwitch},"\u9884\u89c8"),!s.id&&!m&&l.a.createElement("span",{className:b.a.commentorLogin},"\u901a\u8fc7GitHub",l.a.createElement("a",{href:Object(C.d)()},"\u767b\u9646"))),l.a.createElement("div",{className:b.a.createCommentInputContainer},l.a.createElement("textarea",{ref:function(t){return e.comment=t},onInput:this.handleInput,className:b.a.createCommentTextarea,placeholder:"\u8bf7\u7f16\u8f91\u60a8\u7684\u8bc4\u8bba"})),l.a.createElement("div",{className:b.a.createCommentOperator},l.a.createElement("button",{onClick:this.handleSubmitComment},"\u8bc4\u8bba"))))))))}}]),t}(m.Component),w=Object(p.a)([function(e){return e.repository.result},function(e){return e.repository.loading},function(e){return e.entities.repositories},function(e){return e.entities.issues},function(e){return e.entities.milestones},function(e){return e.entities.labels},function(e){return e.entities.comments},function(e){return e.user.viewer},function(e){return e.user.loading}],function(e,t,a,n,r,o,c,s,m){var l,i={},u=a[e];return u&&(l=u.issue),l&&(i=n[l]),{loading:t,currentIssue:i,milestonesMap:r,labelsMap:o,commentsMap:c,viewer:s,isUserLoading:m}});t.default=Object(i.b)(w)(Object(u.a)(N))}}]);
//# sourceMappingURL=5.16e6fefd.chunk.js.map