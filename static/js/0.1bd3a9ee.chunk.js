(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{381:function(e,t,n){e.exports={markdownPreviewer:"style_markdownPreviewer__2WsNP"}},572:function(e,t,n){e.exports={editorContainer:"style_editorContainer__1Wmff",header:"style_header__1BwOO",fileds:"style_fileds__3fShH",checkLabel:"style_checkLabel__23t6_",submitButton:"style_submitButton__18BxS",editorContent:"style_editorContent__KEm5X"}},581:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n(369),l=n(370),i=n(358),s=n(371),o=n(359),u=n(0),c=n.n(u),m=n(372),h=n.n(m),d=n(577),p=n(88),f=n(360),b=n(380),v=n.n(b),y=n(381),g=n.n(y),k=n(383),C=n.n(k);n(570);v.a.setOptions({breaks:!0,highlight:function(e){return C.a.highlightAuto(e).value}});var E=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).handleInput=function(e){var t=n.props.onChange,a=n.editor.value;e.preventDefault(),"function"===typeof t&&t(a),n.preview.innerHTML=v()(a)},n}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.defaultValue;e&&(this.preview.innerHTML=v()(e))}},{key:"render",value:function(){var e=this,t=this.props.defaultValue;return c.a.createElement("div",{className:g.a.markdownPreviewer},c.a.createElement("textarea",{id:"editor",spellCheck:"false",ref:function(t){return e.editor=t},onInput:this.handleInput,defaultValue:t}),c.a.createElement("section",{id:"preview",ref:function(t){return e.preview=t}}))}}]),t}(u.Component),_=n(87),w=n(572),O=n.n(w),j=function(e){function t(){var e,n;Object(r.a)(this,t);for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).content="",n.title="",n.milestone="",n.labels=[],n.handleChange=function(e){n.content=e},n.handleRadioChange=function(e){e.preventDefault(),e.stopPropagation();var t=e.target;t.checked?n.milestone=t.value:n.milestone=""},n.handleCheckboxChange=function(e){e.preventDefault(),e.stopPropagation();var t=e.target,a=n.labels.indexOf(t.value);t.checked?-1===a&&n.labels.push(t.value):-1!==a&&n.labels.splice(a,1)},n.handleSubmit=function(e){e.preventDefault(),e.stopPropagation();var t=n.props.dispatch,r=n.number;if(n.title&&n.content){var l={title:n.title.value,body:n.content,labels:n.labels,milestone:n.milestone,callback:function(e){n.props.history.push(e)}};r?t.repository.editIssue(Object(a.a)({},l,{number:r})):t.repository.createIssue(l)}},n}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.labelsList,n=e.milestonesList,a=e.dispatch,r=this.number;t.length&&n.length||a.repository.initEditor(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.labelsList,a=t.milestonesList,r=t.loading,l=this.currentIssue.body,i=this.number;return c.a.createElement(_.a,{loading:r},c.a.createElement("div",{className:O.a.editorContainer},c.a.createElement("header",{className:O.a.header},c.a.createElement("h2",null,"\u6587\u7ae0\u7f16\u8f91\u9875")),c.a.createElement("main",null,c.a.createElement("form",null,c.a.createElement("label",{className:O.a.fileds,htmlFor:"title"},"\u6807\u9898\uff1a",c.a.createElement("input",{defaultValue:this.currentIssue.title,ref:function(t){return e.title=t},type:"text",id:"title"})),c.a.createElement("label",{className:h()(O.a.fileds,O.a.editorContent),htmlFor:"editor"},"\u5185\u5bb9\uff1a",c.a.createElement(E,{defaultValue:l,onChange:this.handleChange})),c.a.createElement("label",{className:O.a.fileds,htmlFor:"milestone"},"\u5206\u7c7b\uff1a",a.map(function(t){return c.a.createElement("label",{key:t.id,className:O.a.checkLabel},c.a.createElement("input",{type:"radio",name:"categories",value:t.number,onChange:e.handleRadioChange,defaultChecked:e.currentIssue.milestone&&e.currentIssue.milestone===t.id}),t.title)})),c.a.createElement("label",{className:O.a.fileds,htmlFor:"labels"},"\u6807\u7b7e\uff1a",n.map(function(t){return c.a.createElement("label",{key:t.id,className:O.a.checkLabel},c.a.createElement("input",{type:"checkbox",value:t.name,name:"label-".concat(t.name),onChange:e.handleCheckboxChange,defaultChecked:e.currentIssue.labels&&-1!==e.currentIssue.labels.nodes.indexOf(t.id)}),t.name)})),c.a.createElement("input",{className:O.a.submitButton,onClick:this.handleSubmit,type:"submit",value:i?"\u4fee\u6539":"\u521b\u5efa"}))),c.a.createElement("footer",null,c.a.createElement("p",null,"Copyright \xa9",(new Date).getFullYear()," Roy Zhi"))))}},{key:"number",get:function(){return this.props.match.params.number}},{key:"currentIssue",get:function(){var e=this.props.currentIssue,t=this.number;return t&&e&&e.number===+t?e:{}}}]),t}(u.Component),I=Object(f.a)([function(e){return e.repository.result},function(e){return e.repository.loading},function(e){return e.entities.repositories},function(e){return e.entities.labels},function(e){return e.entities.milestones},function(e){return e.entities.issues}],function(e,t,n,a,r,l){var i,s=[],o=[],u=n[e];if(u&&u.labels&&u.labels.nodes&&u.milestones&&u.milestones.nodes){s=u.labels.nodes.map(function(e){return a[e]}),o=u.milestones.nodes.map(function(e){return r[e]});var c=u.issue;c&&(i=l[c])}return{loading:t,labelsList:s,milestonesList:o,currentIssue:i}});t.default=Object(p.b)(I)(Object(d.a)(j))}}]);
//# sourceMappingURL=0.1bd3a9ee.chunk.js.map